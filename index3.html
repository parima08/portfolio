<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Parima Portfolio</title>

    <!-- <script type="text/javascript" src="js/roll.js"></script> --> 

    <!-- Bootstrap -->
    <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="css/style2.css" rel="stylesheet">
    <link href="css/style3.css" rel="stylesheet">


    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:100, 200,400,600,300,400italic,300italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <div id="pinContainer">
      <section class = "panel intro">
        <div class = "intro-box">
          <div class = " intro-box-line horizontal top"></div>
          <div class = " intro-box-line vertical left"></div>
          <div class = " intro-box-line horizontal down"></div>
          <div class = " intro-box-line vertical right"></div>
          <div class = "intro-box-content">  
            <div class = "parens">
              <svg version="1.1" id="Calque_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 635.3 844.6" enable-background="new 0 0 635.3 844.6" xml:space="preserve"> 
                <path id="z0" fill="none" stroke-width="20" stroke-linejoin="round" stroke-miterlimit="10" d="M259.3,834.6c0,0-93.9,4.9-142.4-74c-25.5-41.5-27-117-27-117l0.5-143.5c0,0-1-65-80.3-77.7l0,0c79.3-12.7,79.9-77.7,79.9-77.7l-0.5-143.5c0,0,1.5-75.5,27-117c48.5-78.9,142.4-74,142.4-74" >
                  
                </path> 
                  <path id="z1" fill="none" stroke-width="20" stroke-linejoin="round" stroke-miterlimit="10" d="M376,834.6 c0,0,93.9,4.9,142.4-74c25.5-41.5,27-117,27-117l-0.5-143.5c0,0,1-65,80.3-77.7l0,0c-79.3-12.7-79.9-77.7-79.9-77.7l0.5-143.5c0,0-1.5-75.5-27-117c-48.5-78.9-142.4-74-142.4-74" >
                
               </path>
               </svg>
           </div>
           <hr class="name-line" />
            <h1 class = "name"><span class = "light">PARIMA</span> SHAH</h1>
          </div>
        </div>
      </section>
      <section class = "panel about">
        <h1 class="about-title"><span class = "light">ABOUT</span> ME </h1>
        <div class = "about-content">
          <div class="parima-photo"></div>
          <div class = "parima-info">
            <p class="top-intro">My name is <span class = "emphasis"> Parima Shah </span> and I am currently a Senior Software Engineer at <span class = "emphasis">Ciklum. </span> </p>
            <p class="more-details-info">My specialty lies in the full web stack, but I have experience in all areas of software development; from project management to mobile applications to designing user experiences, <span class = "emphasis">I’ve done it all.</span> </p>
          </div>
        </div>
        <div class = "pink-box"></div>
      </section>
      <section class = "panel philosophy">
        <h1 class = "philosophy-header">PHILO<span class = "light">SOPHY</span> </h1>
        <div class = "philosophy-text-container">
          <p class="philosophy-text">Because of this, I feel that the best way to describe myself is as a <span class ="emphasis">jack-of-all-trades.</span> I love learning. I’m addicted to epiphany moments. I am in continuous search for elegant solutions. I am dedicated to delivering my very best.  But most of all, <span class ="emphasis"> I’m a huge fan of getting things done.</span> </p>
        </div>
      </section>
      <section class = "panel featured-work">
        <h1 class="about-title"><span class = "light">FEATURED</span> WORK </h1>
        <div class = "background-polygon"></div>
        <div class = "highlight-text">Blah blah blah</div>
         <div class = "circular-container">
          <div class="rotating-object first active">
            <div class = "highlight-background"></div> 
            <div class = "dot"></div>
            <div class="step"> 
              <span class="nav-number">00.</span> 
              <span class= "nav-title">Network Security</span>
            </div>
          </div>
           <div class = "rotating-object second coming">
           <div class = "highlight-background"></div> 
           <div class = "dot"></div>
            <div class="step">
            <span class="nav-number"> 01. </span> 
            <span class= "nav-title">Smart Lock </span>
          </div>
          </div>
           <div class = "rotating-object third">
           <div class = "highlight-background"></div> 
            <div class = "dot"></div>
            <div class="step">
              <span class="nav-number">02.</span>
              <span class="nav-title"> Micron </span>
            </div>
          </div>
           <div class = "rotating-object fourth">
           <div class = "highlight-background"></div> 
            <div class = "dot"></div>
            <div class="step"> 
              <span class = "nav-number"> 03. </span>
              <span class="nav-title">SafePlaces App</span>
            </div>
          </div>
          <div class = "rotating-object fifth">
          <div class = "highlight-background"></div> 
            <div class = "dot"></div>
            <div class="step">
              <span class = "nav-number">04.</span>
              <span class="nav-title">Net Zero Enterprises </span>
            </div>
          </div>
          <div class="inside-circle"></div>
        </div>
      </section>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.14.2/TweenMax.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.2/plugins/animation.gsap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.17.0/plugins/ScrollToPlugin.min.js"></script>
    <script src="js/flowtype.js"></script>
  
    
    <!-- <script src="js/bootstrap.min.js"></script> -->
    <!-- <script src="js/velocity.js"></script> -->
    <script>
      $(function() {
        // $('body').flowtype({
        //    minimum   : 500,
        //    maximum   : 1200,
        //    minFont   : 12,
        //    maxFont   : 60,
        //    fontRatio : 50
        // });
        // init
        var controller = new ScrollMagic.Controller();
        var window_height = $(window).height();

        var circle_move_left = ($('circular-container').width()/2) * -1;
        var circle_move_top = circle_move_left;

        //include an onResize callback method
        // var circlePositionTween = new TweenMax(".circular-container", 1, {y: circle_move_top, x: circle_move_left});
        //.fromTo(".circular-container", 1, {rotation: 0, y: circle_move_top, x: circle_move_left}, {rotation: 0, y: circle_move_top, x:circle_move_left})
        // define movement of panels
        var wipeAnimation = new TimelineMax()
          .fromTo(["section.panel.intro"], 1, {y: "0%"}, {y: "-100%", ease: Linear.easeNone})
          .fromTo([".parima-photo", ".parima-info"], 1, {y:"300%"} , {y:"200%", ease: Linear.easeNone}, "-=1")
          .fromTo([".parima-photo"], 1, {y:"300%"} , {y:"0%", ease: Linear.easeNone}, "-=.5")
          .fromTo([".parima-info"], 1, {y:"300%"} , {y:"0%", ease: Circ.easeOut}, "-=.75")
          .fromTo([".parima-info"], 1, {y:"0%"} , {y:"-200%", ease: Circ.easeOut}, "+=.5")
          .fromTo([".parima-photo"], 1, {y:"0%"} , {y:"-150%", ease: Circ.easeOut}, "-=.5")
          .fromTo("section.panel.about",  1, {y:  "0%"}, {y: "0%", ease: Circ.easeOut})  
          .to(".pink-box", 1, {width: "100%", height: "100%", backgroundColor: "#D54664", ease: Linear.easeNone}, "-=2")
          .fromTo("section.panel.philosophy", 1, {y: "100%"}, {y: "-80%", ease: Circ.easeOut},  "-=1")
          .fromTo(".circular-container", 1, {rotation: 0}, {rotation: 0})
          .fromTo("section.panel.featured-work", 1, {y: "-100%"},  {y: "0%", ease: Circ.easeOut})
          .fromTo(".circular-container", 1, {rotation: 0}, {rotation: 0})
          .fromTo(".circular-container", 1, {rotation: 0}, {rotation: -30}) 
          .fromTo(".circular-container", 1, {rotation: -30}, {rotation: -60})
          .fromTo(".circular-container", 1, {rotation: -60}, {rotation: -90})
          .fromTo(".circular-container", 1, {rotation: -90}, {rotation: -120});

          //console.log( $(".circular-container")[0]._gsTransform.rotation );
          // $(document).on("scroll", ".featured-work", function(){
          //   console.log( $(".circular-container")[0]._gsTransform.rotation );
          // });

      // var fillBoxPink = TweenMax.to(".pink-box", 4, {width: "100%", height: "100%", background: "#D54664", ease: Linear.easeNone});

        //create scene to pin and link animation
        var scrollMagicScene = new ScrollMagic.Scene({
            triggerElement: "#pinContainer",
            triggerHook: "onLeave",
            duration: "500%"
          })
          .setPin("#pinContainer")
          .setTween(wipeAnimation)
          .addIndicators() // add indicators (requires plugin)
          .addTo(controller);

          var background_text = ["Cybersecurity", "Internet Of Things", "Automata Processor", "Startup", "Branding"]

          scrollMagicScene.on("update", function (e) {
            var degree = $(".circular-container")[0]._gsTransform.rotation
            var active_element = Math.floor( (degree +15) /30) * -1 ;
            console.log("Active Element: " + active_element);
            $(".highlight-text").text(background_text[active_element]);
            $(".rotating-object").removeClass("active").removeClass("coming");
            $(".rotating-object").eq(active_element).addClass("active");
            $(".rotating-object").eq(active_element+1).addClass("coming");
            $(".rotating-object").eq(active_element-1).addClass("coming");
          }); 
      });


    </script>


    <script>
      $(function(){
        var nav_container = $(".circular-container");
        var originY = 0; 

        //set all the widths and heights for the correct things:

        setHeight();
        var container_left = (nav_container.width()/2) * -1;
        set_nav_container_transforms(container_left, 0);
        
        // $('.panel.featured-work').on('mousemove', function(event) {
        //   var container_height = nav_container.height();
        //   var container_width = nav_container.width();
        //   var window_height = $(window).height();
        //   console.log("X: " + event.pageX + " Y: " + event.pageY + " Height: " + container_height + " Width: " + container_width);
          
        //   // var offset = nav_container.offset();
        //   var centerX = container_width/2;
        //   var centerY = container_height/2;
        //   var pageY_offset = event.pageY - $(window).scrollTop();
        //   var percentageY = pageY_offset/window_height
        //   console.log("window_height: " + window_height);
        //   console.log("percentageY " + percentageY);

        //   if(percentageY <=.2){
        //     var degree = 0; 
        //   }
        //   else if(percentageY >= .8 ){
        //     var degree = -120; 
        //   }
        //   else{
        //       //120 is the ending degree and .6 is the percentage that it needs to travel to that point. 
        //       var degree = (-120/.6) * (percentageY - .2);
        //   }

        //   //switch opacity on and off: 
        //   var active_element = Math.floor( (degree +15) /30) * -1 ;
        //   console.log("Active Element: " + active_element);
        //   $(".rotating-object").removeClass("active").removeClass("coming");
        //   //$active_object = $(".rotating-object")[active_element];
        //   $(".rotating-object").eq(active_element).addClass("active");
        //   $(".rotating-object").eq(active_element+1).addClass("coming");
        //   $(".rotating-object").eq(active_element-1).addClass("coming");
        //   var container_left = (nav_container.width()/2) * -1;
        //   set_nav_container_transforms(container_left, degree);

        //   console.log("MODULAR: " + degree%30);
          
        //   if(Math.abs(degree%30) <= 10){
        //     $(".highlight-background").addClass("active");
        //   }
        //   else{
        //     $(".highlight-background").removeClass("active");
        //   }

        //   originY = event.pageY;
        // });

        $(window).resize(setHeight); 

        function set_nav_container_transforms(container_left, degree){
          translate_y = -400;
          nav_container.css('-moz-transform', ' translate3d('+container_left + 'px, '+translate_y+'px, 0px) rotate('+degree+'deg)');
          nav_container.css('-webkit-transform', 'translate3d('+container_left + 'px, '+translate_y+'px, 0px) rotate('+degree+'deg)');
          nav_container.css('-o-transform', 'translate3d('+container_left + 'px, '+translate_y+'px, 0px) rotate('+degree+'deg)');
          nav_container.css('-ms-transform', 'translate3d('+container_left + 'px, '+translate_y+'px, 0px) rotate('+degree+'deg)');
        }

        function setHeight(){
          var window_height = $(window).height();
          var window_width = $(window).width();
          var circle_el_height = $(".rotating-object").height();
          var circle_el_width = $(".rotating-object").width(); 
          var rotating_height = window_height + (circle_el_height * 6);
          var radius = rotating_height/2; 
          var translate_left = (radius ) * -1;
          var translate_y = (radius/2) * -1 ;
          //heights for the rotating container
          nav_container.css({
            height: rotating_height,
            width: rotating_height,
            top: translate_y,
            left: translate_left,
          }); 
          set_nav_container_transforms((radius * -1), 0);

          //get sizes from the navigational elements
          //heights for the internal circle
          $('.inside-circle').css({
            height: rotating_height - circle_el_width, 
            width: rotating_height - circle_el_width,
            margin: (radius- (circle_el_width/2)) * -1
          });


          //set the translations correctly for each of the navigational elements
          var object_orientation = 0; 
          $(".rotating-object").each(function(k,v){
            $(this).css(
            "-webkit-transform", "rotate("+ object_orientation+"deg) translate("+ radius+"px)" );
            object_orientation = object_orientation + 30; 
          });
        }
      });
    </script>
  </body>
</html>